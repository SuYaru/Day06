<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="author" content="http://www.softwhy.com/" />
    <title>蚂蚁部落</title>
    <script type="text/javascript"> 
        window.onload = function () {
            var count = 0;
            var max = 20;
            var bt = document.getElementById("bt");
            function show(temp) {                        // 大于20秒后会自动停止
                if (count >= temp) {
                    clearInterval(flag);
                    return;
                }
                document.getElementById("ant").innerHTML = count + 1;
                count = count + 1;
            }
             
            var flag = setInterval(show, 1000, max);  // max 作为参数传入show()
            // 这里不采用 show() ，是因为show() 是对函数的直接调用，
            // 也就是当setInterval没有开始时，就会执行
            bt.onclick = function () {
                clearInterval(flag);
            }
        } 
    </script> 
</head> 
<body> 
    <div id="ant">0</div>
    <input type="button" id="bt" value="停止定时器"/>
</body> 
</html>